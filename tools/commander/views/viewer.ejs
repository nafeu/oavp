<%- include('partials/head') %>
<%- include('partials/navigation') %>

<style>
  html, body {
    background-color: black !important;
  }
</style>

<div class="container">
  <div id="sketch-matrix">
    <% Object.entries(SKETCH_DATA_OBJECTS).forEach(([filename, sketchDataObject]) => { %>
      <div
        class="matrix-image"
        style="background-image: url('<%= filename %>.png');"
      >
        <button onclick="handleClickViewSketch('<%= filename %>');">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"/></svg>
        </button>
      </div>
    <% }); %>
  </div>
  <div id="sketch-preview">
    <div id="sketch-preview-image">
      <div id="loaded-actions">
        <button onclick="handleClickLoadSketch();">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"/></svg>
        </button>
        <button onclick="handleClickReseedSketch();">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"/></svg>
        </button>
      </div>
    </div>
  </div>
  <div id="details-menu">
    <div>Export Name: <span id="sketch-filename"></span></div>
    <div id="details-menu-actions">
      <button id="sketch-id-button" onclick="handleClickIncrementId()">ID ▲</button>
      <button id="sketch-id-button" onclick="handleClickDecrementId()">ID ▼</button>
      <button id="sketch-name-button" onclick="handleClickGenerateName()">Generate Name</button>
      <button id="sketch-palette-button" onclick="handleClickGeneratePalette()">Generate Palette</button>
    </div>
    <input id="sketch-id-input" class="save-on-change" type="number" placeholder="Enter #"></input>
    <textarea id="sketch-name-input" class="save-on-change" type="text" placeholder="Enter name"></textarea>
    <textarea id="sketch-palette-input" class="save-on-change" type="text" placeholder="Enter palette"></textarea>
    <div id="details-finalization-actions">
      <button id="sketch-clipboard-button" onclick="handleClickCopyToClipboard()">Copy To Clipboard</button>
      <button id="sketch-generate-timelapse-button" onclick="handleClickGenerateTimelapse()">Generate Timelapse</button>
      <button id="sketch-construct-video-button" onclick="handleClickConstructVideo()">Construct Video</button>
    </div>
  </div>
</div>

<script>
  setTimeout(() => {
    const firstSketch = Object.keys(window.sketchDataObjects)[0];

    handleClickViewSketch(firstSketch);
  }, 1000);

</script>

<%- include('partials/console') %>
<%- include('partials/footer') %>
